<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // function 키워드로 함수를 선언
        // 양식
        // function 함수명(전달인자를){ }
        // 전달인자에는 타입을 적지 않는다


        function plus(x, y) {  // 이게 전달인자
            console.log('x', x)
            console.log('y', y)

            let z = x + y;
            return z; // x와 y의 합을 구한 값을 z에 넣고
        }
        let a = plus(2, 3); // 전달인자 받을 값을 넣고
        console.log('a :', a);

        plus(2, plus(1, 2));


        let b = plus();
        console.log('b : ', b);

        function plus2(x, y) {
            if (x == undefined) {
                x = 0;
                // if(!x){
                //     x = 0;
            }
            if (y == undefined) {
                y = 0;
            }
            return x + y;
        }

        // 전달인자가 없는 경우 초기값 적용
        // 있으면 전달인자 사용
        function plus3(x = 0, y = 1) {
            return x + y;
        }

        console.log(1, 2, 3, 4, 5, 6);

        // spread 연산자
        function log(...obj) {
            console.log(typeof obj) // 배열
            console.log(obj[1])
            console.log(obj)
        }
        log(1, 2)
        let f = [10, 20]
        console.log(...f); // 이거랑
        console.log(f[0], f[1]); // 이거랑 같음
        console.log(10, 20); // 이거랑 같음

        let g = "console.log(123)";
        eval(g);   // string을 javascript로 변환

        function print() {
            console.log('print 실행')
        }
        let p = print;
        console.log('typeof p :', typeof p)
        p();
        let p2 = print();
        console.log('p2 : ', p2)

        console.log('typeof print : ', typeof print)

        function print2() {
            console.log('print3(거짓말) 실행')
        }
        print2()

        function over(x) {
            console.log('x : ', x)
        }

        function over(x, y, r) {
            console.log('x,y,r : ', x, y, r)
        }

        over();
        console.log(2, typeof over)

        console.log('-----------------------------');
        // calllback
        // 원달러 환율 계산 함수
        function change_en_ko(dollar) {
            return dollar * 1354.75;
        }

        // 달러원 환율 계산 함수
        function change_en_en(won) {
            return won * 1354.75;
        }

        // 환전 함수
        // 전달인자 : 금액, 환율 계산 함수
        function change(money, callback) {
            console.log('환전을 시작 합니다')
            if (typeof callback == 'function') {
                let result = callback(money)
                return result;
            } else {
                console.log('콜백 함수 없음')
            }
            // todo : 구현
            let result = callback(money)
            return result;
        }
        const money = change(40, change_en_ko); //  소수점으로 계산
        console.log('환전된 금액은', money); // 출력

        // 익명 함수
        let noName = function () {
            console.log('익명함수')
        }
        noName();

        // 위의 것과 완벽히 동일
        //   function noName(){
        //     console.log('익명함수')
        //    }

        const m = 100;
        change(m, noName);


        console.log('--------------------')
        // 전달인자가 두 개
        // 첫번째 전달인자 : 실행할 함수(콜백함수)
        // 두번째 전달인자 : 지연 시간 (1/1000초)
        //    setTimeout(noName,1000,7);
        let st1 = setTimeout(function () { // 이건 한 개만 
            console.log('1초 뒤에 출력')
        }
            , 1000 * 1
        )
        console.log('콘솔 출력')

        console.log('st1 :', st1)
        clearTimeout(st1) // 예약취소하는것

        //    function testCloser(){
        setTimeout(
            function (x) {
                console.log('1초 뒤에 출력2')
            }
            , 1000,
            'a'
            ,
            'b'
        )
        //    }

        let si = setInterval(function () {
            console.log('setInterval 실행')
            console.log(".")

        }, 1000 * 2)


        setTimeout(function () {
            clearInterval(si)
        }, 5000) // 5초있다가 꺼져


        // 화살표 함수 arrow function
        let test0 = function (a, b) {
            console.log(a, b)
            return a;
        }

        // 익명 함수일 경우 화살표 함수로 변경할 수  있다
        let test1 = (a, b) => {
            console.log(a, b)
            return a;
        }

        // 전달인자가 하나일 때 만
        // 전달인자의 괄호를 생략할 수 있다
        let test2 = (a) => {
            console.log(a, b)
            return a;
        }

        // 전달인자가 하나일때 괄호가 생략될 수 도 있다
        let test3 = a => {
            console.log(a)
            return a;
        }

        // 전달인자가 없을 때 ()가 생략 불가능
        let test4 = () => {
        }

        let test5 = (a, b) => {
            return a + b;
        }
        // 실행문 안의 내용이 return문 "만" 있는 경우
        // return과 { } 생략 가능
        let test6 = (a, b) => a + b;

        let test7 = a => a * 3;
        console.log('하', test7(9))



    </script>
</head>

<body>

</body>

</html>